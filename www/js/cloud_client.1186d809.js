webpackJsonp([11],{"/qp7":function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function n(i,o){try{var s=t[i](o),a=s.value}catch(e){return void r(e)}if(!s.done)return Promise.resolve(a).then(function(e){n("next",e)},function(e){n("throw",e)});e(a)}return n("next")})}}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s=r("A9K1"),a=n(s),l=r("0iPh"),c=n(l),u=r("Z8es"),f=(n(u),r("NYxO"));t.default={data:function(){return{timerange:[],form:this.defForm(),clienttypes:[{value:"LiveGBS",label:"LiveGBS"},{value:"LiveNVR",label:"LiveNVR"}]}},components:{FormDlg:a.default},computed:{},watch:{},methods:o({},(0,f.mapActions)(["getServerInfo"]),{defForm:function(){return{id:"",ClientType:""}},onHide:function(){this.errors.clear(),this.form=this.defForm()},onShow:function(){this.errors.clear()},onSubmit:function(){var e=this;return i(regeneratorRuntime.mark(function t(){var r,n,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$validator.validateAll();case 2:if(r=t.sent){t.next=8;break}return n=e.errors.items[0],e.$message({type:"error",message:n.msg}),(0,c.default)("[name="+n.field+"]").focus(),t.abrupt("return");case 8:i={},i.id=e.form.id,i.ClientName=e.form.ClientName,i.ClientType=e.form.ClientType,i.ClientID=e.form.ClientID,i.ClientDesc=e.form.ClientDesc,c.default.post("api/v1/cloud/client/save",i).then(function(t){e.$refs.dlg.hide(),e.$emit("submit"),setTimeout(function(){e.getServerInfo()},1e3)});case 15:case"end":return t.stop()}},t,e)}))()},show:function(e){this.errors.clear(),e&&Object.assign(this.form,e),this.form.beginAt&&this.form.endAt?this.timerange=[this.form.beginAt,this.form.endAt]:this.timerange=[],this.$refs.dlg.show()}})}},"3ClX":function(e,t,r){"use strict";function n(e){var t="",r=Math.floor(.001*(Date.now()-l));return r===o?i++:(i=0,o=r),t+=s(a.lookup,c),t+=s(a.lookup,e),i>0&&(t+=s(a.lookup,i)),t+=s(a.lookup,r)}var i,o,s=r("VERG"),a=r("aHQ8"),l=1459707606518,c=6;e.exports=n},"4lnF":function(e,t,r){!function(t,r){e.exports=r()}(0,function(){return function(e){function t(n){if(r[n])return r[n].exports;var i=r[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var r={};return t.m=e,t.c=r,t.i=function(e){return e},t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=3)}([function(e,t,r){"use strict";function n(){var e=document.documentElement;return"requestFullscreen"in e||"mozRequestFullScreen"in e&&document.mozFullScreenEnabled||"msRequestFullscreen"in e&&document.msFullscreenEnabled||"webkitRequestFullScreen"in e}function i(){return!!(document.fullscreen||document.mozFullScreen||document.fullscreenElement||document.msFullscreenElement||document.webkitIsFullScreen)}function o(e){e.requestFullscreen?e.requestFullscreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.msRequestFullscreen?e.msRequestFullscreen():console.log("Fullscreen API is not supported.")}function s(){document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen?document.msExitFullscreen():console.log("Fullscreen API is not supported.")}function a(e){document.addEventListener("fullscreenchange",e),document.addEventListener("mozfullscreenchange",e),document.addEventListener("MSFullscreenChange",e),document.addEventListener("webkitfullscreenchange",e)}function l(e){document.removeEventListener("fullscreenchange",e),document.removeEventListener("mozfullscreenchange",e),document.removeEventListener("MSFullscreenChange",e),document.removeEventListener("webkitfullscreenchange",e)}function c(){var e={},t=!1,r=0,n=arguments.length;for("[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(t=arguments[0],r++);r<n;r++){var i=arguments[r];!function(r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t&&"[object Object]"===Object.prototype.toString.call(r[n])?e[n]=c(!0,e[n],r[n]):e[n]=r[n])}(i)}return e}t.b=n,t.c=i,t.g=o,t.d=s,t.f=a,t.e=l,t.a=c},function(e,t,r){"use strict";function n(){return r.i(a.c)()}function i(e,t,r){c&&(void 0===r?n()?s():o(e,t):r?o(e,t):s())}function o(){function e(){var t=n();t||(r.i(a.e)(e),o.classList.remove(i.fullscreenClass),i.wrap&&(s.parentNode.insertBefore(o,s),s.parentNode.removeChild(s))),i.callback&&i.callback(t)}var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.body,i=arguments[1];if(c&&!n()){i=r.i(a.a)(!0,{},l,i);var o=t,s=void 0;i.wrap&&(s=document.createElement("div"),s.style["overflow-y"]="auto",s.style.background=i.background,s.style.width="100%",s.style.height="100%",o.parentNode.insertBefore(s,o),s.appendChild(o),s.addEventListener("click",function(e){e.target===this&&r.i(a.d)()})),o.classList.add(i.fullscreenClass),r.i(a.f)(e),r.i(a.g)(i.wrap?s:o)}}function s(){c&&n()&&r.i(a.d)()}var a=r(0),l={wrap:!0,background:"#333",callback:function(){},fullscreenClass:"fullscreen"},c=r.i(a.b)();t.a={getState:n,toggle:i,enter:o,exit:s}},function(e,t,r){var n=r(5)(r(4),r(6),null,null);e.exports=n.exports},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(2),i=r.n(n),o=r(1),s=r(0);t.default={install:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.name||"fullscreen";e.component(n,r.i(s.a)(i.a,{name:n})),e.prototype["$"+n]=o.a}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(0);t.default={props:{background:{type:String,default:"#333"},fullscreenClass:{type:String,default:"fullscreen"},fullscreen:{type:Boolean,default:!1}},data:function(){return{supportFullScreen:!1,isFullscreen:!1}},computed:{wrapperStyle:function(){return{background:this.background,"overflow-y":"auto",width:"100%",height:"100%"}}},methods:{toggle:function(e){void 0===e?r.i(n.c)()?this.exit():this.enter():e?this.enter():this.exit()},enter:function(){this.supportFullScreen&&(r.i(n.f)(this.fullScreenCallback),r.i(n.g)(this.$el))},exit:function(){this.supportFullScreen&&this.getState()&&r.i(n.d)()},getState:function(){return r.i(n.c)()},shadeClick:function(e){e.target===this.$el&&this.exit()},fullScreenCallback:function(){this.isFullscreen=r.i(n.c)(),this.isFullscreen||r.i(n.e)(this.fullScreenCallback),this.$emit("change",this.isFullscreen),this.$emit("update:fullscreen",this.isFullscreen)}},watch:{fullscreen:function(e){e!==r.i(n.c)()&&(e?this.enter():this.exit())}},created:function(){this.supportFullScreen=r.i(n.b)()}}},function(e,t){e.exports=function(e,t,r,n){var i,o=e=e||{},s=typeof e.default;"object"!==s&&"function"!==s||(i=e,o=e.default);var a="function"==typeof o?o.options:o;if(t&&(a.render=t.render,a.staticRenderFns=t.staticRenderFns),r&&(a._scopeId=r),n){var l=Object.create(a.computed||null);Object.keys(n).forEach(function(e){var t=n[e];l[e]=function(){return t}}),a.computed=l}return{esModule:i,exports:o,options:a}}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{class:e.isFullscreen?[e.fullscreenClass]:[],style:e.isFullscreen?[e.wrapperStyle]:[],on:{click:function(t){e.shadeClick(t)}}},[e._t("default")],2)},staticRenderFns:[]}}])})},"5U11":function(e,t,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=["B","kB","MB","GB","TB","PB","EB","ZB","YB"];e.exports=function(e){if(!Number.isFinite(e))throw new TypeError("Expected a finite number, got "+(void 0===e?"undefined":n(e))+": "+e);var t=e<0;if(t&&(e=-e),e<1)return(t?"-":"")+e+" B";var r=Math.min(Math.floor(Math.log(e)/Math.log(1e3)),i.length-1),o=Number((e/Math.pow(1e3,r)).toPrecision(3)),s=i[r];return(t?"-":"")+o+" "+s}},"9tMA":function(e,t,r){"use strict";function n(e){if(!e||"string"!=typeof e||e.length<6)return!1;for(var t=i.characters(),r=e.length,n=0;n<r;n++)if(-1===t.indexOf(e[n]))return!1;return!0}var i=r("aHQ8");e.exports=n},ApCV:function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("FormDlg",{ref:"dlg",attrs:{title:"编辑设备",size:"modal-lg",disabled:e.errors.any()},on:{hide:e.onHide,show:e.onShow,submit:e.onSubmit}},[r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.form.id,expression:"form.id",modifiers:{trim:!0}}],attrs:{type:"hidden",name:"id"},domProps:{value:e.form.id},on:{input:function(t){t.target.composing||e.$set(e.form,"id",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),e._v(" "),r("div",{class:{"form-group":!0,"has-error":e.errors.has("ClientName")}},[r("label",{staticClass:"col-md-3 control-label"},[r("span",{staticClass:"text-red"},[e._v("*")]),e._v("设备名称")]),e._v(" "),r("div",{staticClass:"col-md-7"},[r("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model.trim",value:e.form.ClientName,expression:"form.ClientName",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"text",placeholder:"输入设备名称",name:"ClientName","data-vv-as":"设备名称"},domProps:{value:e.form.ClientName},on:{input:function(t){t.target.composing||e.$set(e.form,"ClientName",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),e._v(" "),r("span",{staticClass:"help-block"},[e._v(e._s(e.errors.first("ClientName")))])])]),e._v(" "),r("div",{staticClass:"form-group"},[r("label",{staticClass:"col-md-3 control-label"},[e._v("设备ID")]),e._v(" "),e.form.id?r("div",{staticClass:"col-md-7"},[r("div",{staticClass:"input-group"},[r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.form.ClientID,expression:"form.ClientID",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{name:"ClientID",readonly:"readonly"},domProps:{value:e.form.ClientID},on:{input:function(t){t.target.composing||e.$set(e.form,"ClientID",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),e._v(" "),r("div",{staticClass:"input-group-btn"},[r("button",{directives:[{name:"clipboard",rawName:"v-clipboard",value:e.form.ClientID,expression:"form.ClientID"}],staticClass:"btn btn-default",attrs:{type:"button",title:e.$t("m.c_copy")},on:{success:function(t){e.$message({type:"success",message:e.$t("m.c_copy_msg")})}}},[r("i",{staticClass:"fa fa-copy"})])])])]):e._e(),e._v(" "),e.form.id?e._e():r("div",{staticClass:"col-md-7"},[r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.form.ClientID,expression:"form.ClientID",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"text",placeholder:"可输入自定义设备ID",name:"ClientID","data-vv-as":"设备ID"},domProps:{value:e.form.ClientID},on:{input:function(t){t.target.composing||e.$set(e.form,"ClientID",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),e._v(" "),r("span",{staticClass:"help-block"},[e._v(e._s(e.errors.first("ClientID")))])])]),e._v(" "),r("div",{staticClass:"form-group",attrs:{title:"设备类型"}},[r("label",{staticClass:"col-md-3 control-label"},[r("span",{staticClass:"text-red"},[e._v("*")]),e._v("设备类型")]),e._v(" "),r("div",{staticClass:"col-md-7"},[e.form.id?e._e():r("el-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticStyle:{width:"100%"},attrs:{placeholder:"请选择设备类型","data-vv-as":"设备类型"},model:{value:e.form.ClientType,callback:function(t){e.$set(e.form,"ClientType",t)},expression:"form.ClientType"}},e._l(e.clienttypes,function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1),e._v(" "),e.form.id?r("el-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticStyle:{width:"100%"},attrs:{disabled:"",placeholder:"请选择设备类型","data-vv-as":"设备类型"},model:{value:e.form.ClientType,callback:function(t){e.$set(e.form,"ClientType",t)},expression:"form.ClientType"}},e._l(e.clienttypes,function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1):e._e()],1)]),e._v(" "),r("div",{staticClass:"form-group"},[r("label",{staticClass:"col-md-3 control-label"},[e._v("设备描述")]),e._v(" "),r("div",{staticClass:"col-md-7"},[r("textarea",{directives:[{name:"model",rawName:"v-model.trim",value:e.form.ClientDesc,expression:"form.ClientDesc",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{rows:"2",placeholder:"备注设备相关信息",name:"ClientDesc"},domProps:{value:e.form.ClientDesc},on:{input:function(t){t.target.composing||e.$set(e.form,"ClientDesc",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})])]),e._v(" "),e.form.id?r("div",{staticClass:"form-group hide"},[r("label",{staticClass:"col-md-3 control-label"},[e._v("设备用户")]),e._v(" "),r("div",{staticClass:"col-md-7"},[r("div",{staticClass:"input-group"},[r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.form.ClientUser,expression:"form.ClientUser",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{name:"ClientUser",readonly:"readonly"},domProps:{value:e.form.ClientUser},on:{input:function(t){t.target.composing||e.$set(e.form,"ClientUser",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),e._v(" "),r("div",{staticClass:"input-group-btn"},[r("button",{directives:[{name:"clipboard",rawName:"v-clipboard",value:e.form.ClientUser,expression:"form.ClientUser"}],staticClass:"btn btn-default",attrs:{type:"button",title:e.$t("m.c_copy")},on:{success:function(t){e.$message({type:"success",message:e.$t("m.c_copy_msg")})}}},[r("i",{staticClass:"fa fa-copy"})])])])])]):e._e(),e._v(" "),e.form.id?r("div",{staticClass:"form-group hide"},[r("label",{staticClass:"col-md-3 control-label"},[e._v("设备密码")]),e._v(" "),r("div",{staticClass:"col-md-7"},[r("div",{staticClass:"input-group"},[r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.form.ClientPwd,expression:"form.ClientPwd",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{name:"ClientPwd",readonly:"readonly"},domProps:{value:e.form.ClientPwd},on:{input:function(t){t.target.composing||e.$set(e.form,"ClientPwd",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),e._v(" "),r("div",{staticClass:"input-group-btn"},[r("button",{directives:[{name:"clipboard",rawName:"v-clipboard",value:e.form.ClientPwd,expression:"form.ClientPwd"}],staticClass:"btn btn-default",attrs:{type:"button",title:e.$t("m.c_copy")},on:{success:function(t){e.$message({type:"success",message:e.$t("m.c_copy_msg")})}}},[r("i",{staticClass:"fa fa-copy"})])])])])]):e._e(),e._v(" "),e.form.id?r("div",{staticClass:"form-group"},["LiveGBS"==e.form.ClientType?r("label",{staticClass:"col-md-3 control-label",attrs:{title:"接入的是LiveGBS,在LiveCMS安装目录下 livecms.ini 添加如下配置"}},[e._v("设备配置")]):e._e(),e._v(" "),"LiveNVR"==e.form.ClientType?r("label",{staticClass:"col-md-3 control-label",attrs:{title:"接入的是LiveNVR,在安装目录下 livenvr.ini 添加如下配置"}},[e._v("设备配置")]):e._e(),e._v(" "),r("div",{staticClass:"col-md-7"},[r("div",{staticClass:"input-group"},[r("span",{staticStyle:{color:"#285e8d"}},[r("span",{directives:[{name:"show",rawName:"v-show",value:"LiveGBS"==e.form.ClientType,expression:"form.ClientType == 'LiveGBS'"}]},[e._v("接入的是LiveGBS,在LiveCMS安装目录下livecms.ini添加如下配置")]),e._v(" "),r("span",{directives:[{name:"show",rawName:"v-show",value:"LiveNVR"==e.form.ClientType,expression:"form.ClientType == 'LiveNVR'"}]},[e._v("接入的是LiveNVR,在安装目录下 livenvr.ini 添加如下配置")]),e._v(" "),r("button",{directives:[{name:"clipboard",rawName:"v-clipboard",value:e.form.ClientConfig,expression:"form.ClientConfig"}],staticClass:"btn btn-xs btn-default",staticStyle:{"margin-bottom":"5px"},attrs:{type:"button",title:e.$t("m.c_copy")},on:{success:function(t){e.$message({type:"success",message:e.$t("m.c_copy_msg")})}}},[r("i",{staticClass:"fa fa-copy"})])]),e._v(" "),r("textarea",{directives:[{name:"model",rawName:"v-model.trim",value:e.form.ClientConfig,expression:"form.ClientConfig",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{rows:"6",readonly:"readonly"},domProps:{value:e.form.ClientConfig},on:{input:function(t){t.target.composing||e.$set(e.form,"ClientConfig",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})])])]):e._e()])},i=[],o={render:n,staticRenderFns:i};t.a=o},Fole:function(e,t,r){"use strict";function n(){return(o=(9301*o+49297)%233280)/233280}function i(e){o=e}var o=1;e.exports={nextValue:n,seed:i}},"I+s2":function(e,t,r){var n=r("WSPd");"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);r("rjj0")("5df66569",n,!0,{})},Kg7Z:function(e,t,r){"use strict";function n(t){return a.seed(t),e.exports}function i(t){return f=t,e.exports}function o(e){return void 0!==e&&a.characters(e),a.shuffled()}function s(){return c(f)}var a=r("aHQ8"),l=(r("VERG"),r("PIIv")),c=r("3ClX"),u=r("9tMA"),f=r("sSHN")||0;e.exports=s,e.exports.generate=s,e.exports.seed=n,e.exports.worker=i,e.exports.characters=o,e.exports.decode=l,e.exports.isValid=u},NBMW:function(e,t,r){"use strict";function n(e){r("I+s2")}Object.defineProperty(t,"__esModule",{value:!0});var i=r("USFA"),o=r.n(i);for(var s in i)["default","default"].indexOf(s)<0&&function(e){r.d(t,e,function(){return i[e]})}(s);var a=r("nvge"),l=r("VU/8"),c=n,u=l(o.a,a.a,!1,c,"data-v-76e3c54c",null);t.default=u.exports},PIIv:function(e,t,r){"use strict";function n(e){var t=i.shuffled();return{version:15&t.indexOf(e.substr(0,1)),worker:15&t.indexOf(e.substr(1,1))}}var i=r("aHQ8");e.exports=n},RHMp:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("/qp7"),i=r.n(n);for(var o in n)["default","default"].indexOf(o)<0&&function(e){r.d(t,e,function(){return n[e]})}(o);var s=r("ApCV"),a=r("VU/8"),l=a(i.a,s.a,!1,null,null,null);t.default=l.exports},USFA:function(e,t,r){"use strict";(function(e){function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=r("I3G/"),s=n(o),a=r("RHMp"),l=n(a),c=r("5U11"),u=n(c),f=r("NYxO"),d=r("4lnF"),m=n(d);s.default.use(m.default),t.default={props:{mode:{type:String,default:"list"},page:{type:Number,default:1},q:{type:String,default:""}},data:function(){return{telnetcmd:"",dialogVisible:!1,query:"",sort:"ClientName",order:"ascending",clients:[],total:0,timer:0,keepTunnelTimer:0,ws:null,currentRow:null,groupListActive:"0",groupList:[]}},computed:i({},(0,f.mapState)(["userInfo"]),{modeText:function(){var e="";switch(this.mode){case"block":e=this.$t("m.c_display_4");break;default:e=this.$t("m.c_list")}return e},pageSize:function(){var e=0;switch(this.mode){case"block":e=4;break;default:e=10}return e}}),components:{ClientFormDlg:l.default},beforeDestroy:function(){this.timer&&(clearInterval(this.timer),this.timer=0)},mounted:function(){var e=this;this.query=this.q,this.update(),this.timer=setInterval(function(){e.update()},3e3)},methods:{handleTypeClick:function(t,r){var n=t.$options.propsData.name;this.groupListActive=n,e("#tab-"+n).blur(),this.update()},filterTag:function(e,t){return e==t.online},edit:function(e){this.currentRow=e;var t=Object.assign({},e);this.$refs.clientFormDlg.show(t)},remove:function(t){var r=this;this.$confirm(this.$t("m.c_delete_ensure")+"["+t.ClientID+"]["+t.ClientName+"]?",this.$t("m.c_prompt")).then(function(){e.post("api/v1/cloud/client/remove",{id:t.id}).then(function(e){r.update()})}).catch(function(){})},update:function(){var t=this,r="",n=parseInt(this.groupListActive);0!=n&&this.groupList.length>=n&&(r=this.groupList[n-1]),e.post("api/v1/cloud/client/list",{start:(this.page-1)*this.pageSize,limit:this.pageSize,q:this.q,sort:this.sort,order:this.order,group:r}).then(function(e){var r=e.data;t.total=r.total,t.clients=r.rows})},formatInBitrate:function(e,t,r){return void 0==r?"-":(0,u.default)(r.InBitrate)+"/s"},formatInBytes:function(e,t,r){return void 0==r?"-":(0,u.default)(r.InBytes)},formatNumOutputs:function(e,t,r){return void 0==r?"-":r.NumOutputs},formatTime:function(e,t,r){return void 0==r?"-":r.Time},videoTitle:function(e){if(this.clients.length>e-1){return this.clients[e-1].name}return""},fullscreen:function(){this.$fullscreen.enter(this.$el.querySelector(".view-"+this.mode),{wrap:!1})},pageChange:function(e){this.$router.push("/cloud/client/"+this.mode+"/"+e+(this.q?"?q="+this.q:""))},modeChange:function(e){var t=e.target.value;this.$router.push("/cloud/client/"+t+"/"+this.page+(this.q?"?q="+this.q:""))},doSearch:function(){this.page=1,this.$router.push("/cloud/client/"+this.mode+"/"+this.page+(this.query?"?q="+this.query:""))},sortChange:function(e){this.sort=e.prop,this.order=e.order,this.update()}},beforeRouteEnter:function(e,t,r){return e.params.mode?e.params.page?(e.params.page=parseInt(e.params.page)||1,e.params.q=e.query.q,void r()):r({path:"/cloud/client/"+e.params.mode+"/1",replace:!0}):r({path:"/cloud/client/list/"+e.params.page,replace:!0})},beforeRouteUpdate:function(e,t,r){var n=this;return e.params.mode?e.params.page?(e.params.page=parseInt(e.params.page)||1,e.params.q=e.query.q,r(),void this.$nextTick(function(){n.query=n.q,n.update()})):r({path:"/cloud/client/"+e.params.mode+"/1",replace:!0}):r({path:"/cloud/client/list/"+e.params.page,replace:!0})}}}).call(t,r("0iPh"))},VERG:function(e,t,r){"use strict";function n(e,t){for(var r,n=0,o="";!r;)o+=e(t>>4*n&15|i()),r=t<Math.pow(16,n+1),n++;return o}var i=r("Zkn8");e.exports=n},WSPd:function(e,t,r){t=e.exports=r("FZ+f")(!1),t.push([e.i,".block-video[data-v-76e3c54c]{border:1px solid #fff}.fullscreen[data-v-76e3c54c]{position:fixed;left:0;top:0;right:0;bottom:0}",""])},Z8es:function(e,t,r){"use strict";e.exports=r("Kg7Z")},Zkn8:function(e,t,r){"use strict";function n(){if(!i||!i.getRandomValues)return 48&Math.floor(256*Math.random());var e=new Uint8Array(1);return i.getRandomValues(e),48&e[0]}var i="object"==typeof window&&(window.crypto||window.msCrypto);e.exports=n},aHQ8:function(e,t,r){"use strict";function n(){d=!1}function i(e){if(!e)return void(u!==p&&(u=p,n()));if(e!==u){if(e.length!==p.length)throw new Error("Custom alphabet for shortid must be "+p.length+" unique characters. You submitted "+e.length+" characters: "+e);var t=e.split("").filter(function(e,t,r){return t!==r.lastIndexOf(e)});if(t.length)throw new Error("Custom alphabet for shortid must be "+p.length+" unique characters. These characters were not unique: "+t.join(", "));u=e,n()}}function o(e){return i(e),u}function s(e){m.seed(e),f!==e&&(n(),f=e)}function a(){u||i(p);for(var e,t=u.split(""),r=[],n=m.nextValue();t.length>0;)n=m.nextValue(),e=Math.floor(n*t.length),r.push(t.splice(e,1)[0]);return r.join("")}function l(){return d||(d=a())}function c(e){return l()[e]}var u,f,d,m=r("Fole"),p="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-";e.exports={characters:o,seed:s,lookup:c,shuffled:l}},nvge:function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e._m(0),e._v(" "),r("div",{staticClass:"container-fluid"},[r("div",{staticClass:"box box-success"},[r("div",{staticClass:"box-header"},[r("form",{staticClass:"form-inline"},[r("div",{staticClass:"form-group"},[e.userInfo.admin?r("button",{staticClass:"btn btn-sm btn-success",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.$refs.clientFormDlg.show()}}},[r("i",{staticClass:"fa fa-plus"}),e._v(" 添加设备")]):e._e()]),e._v(" "),r("div",{staticClass:"pull-right"},[r("div",{staticClass:"form-group"},[r("div",{staticClass:"input-group"},[r("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.query,expression:"query",modifiers:{trim:!0}}],staticClass:"form-control",staticStyle:{"max-width":"120px"},attrs:{type:"text",placeholder:e.$t("m.c_search")},domProps:{value:e.query},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.doSearch(t))},input:function(t){t.target.composing||(e.query=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),e._v(" "),r("div",{staticClass:"input-group-btn"},[r("button",{staticClass:"btn btn-default",attrs:{type:"button"},on:{click:function(t){return t.preventDefault(),e.doSearch(t)}}},[r("i",{staticClass:"fa fa-search"})])])])])])])]),e._v(" "),r("div",{staticClass:"box-body"},[r("el-table",{directives:[{name:"show",rawName:"v-show",value:"list"==e.mode,expression:"mode == 'list'"}],staticClass:"view-list",attrs:{data:e.clients,stripe:"","default-sort":{prop:"ClientName",order:"ascending"}},on:{"sort-change":e.sortChange}},[r("el-table-column",{attrs:{prop:"ClientName",label:"设备名称",sortable:"custom","min-width":"150","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\r\n              "+e._s(t.row.ClientName)+"\r\n            ")]}}])}),e._v(" "),r("el-table-column",{attrs:{prop:"ClientID",label:"设备ID","min-width":"300",sortable:"custom","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\r\n              "+e._s(t.row.ClientID)+"\r\n            ")]}}])}),e._v(" "),r("el-table-column",{attrs:{prop:"tag",label:"状态",width:"100",filters:[{text:"在线",value:!0},{text:"离线",value:!1}],"filter-method":e.filterTag,"filter-placement":"bottom-end"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-tag",{attrs:{type:t.row.online?"success":"default","close-transition":""}},[e._v(e._s(t.row.online?"在线":"离线"))])]}}])}),e._v(" "),r("el-table-column",{attrs:{prop:"ClientType",label:"类型",sortable:"custom","min-width":"120","show-overflow-tooltip":""}}),e._v(" "),r("el-table-column",{attrs:{prop:"Count",label:"心跳包",width:"150","show-overflow-tooltip":""}}),e._v(" "),r("el-table-column",{attrs:{prop:"BeatTime",label:"心跳时间",width:"155",sortable:"custom"}}),e._v(" "),r("el-table-column",{attrs:{prop:"ClientDesc",label:"描述",width:"150",sortable:"custom","show-overflow-tooltip":""}}),e._v(" "),r("el-table-column",{attrs:{prop:"updateAt",label:"更新时间",width:"155",sortable:"custom"}}),e._v(" "),r("el-table-column",{attrs:{label:e.$t("m.c_operate"),width:"210","min-width":"200",fixed:!e.isMobile()&&"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("div",{staticClass:"btn-group"},[e.userInfo.admin?r("a",{staticClass:"btn btn-xs btn-success",attrs:{role:"button"},on:{click:function(r){return r.preventDefault(),e.edit(t.row)}}},[r("i",{staticClass:"fa fa-edit"}),e._v(" "+e._s(e.$t("m.c_edit")))]):e._e(),e._v(" "),e.userInfo.admin?r("a",{staticClass:"btn btn-xs btn-danger",attrs:{role:"button"},on:{click:function(r){return r.preventDefault(),e.remove(t.row)}}},[r("i",{staticClass:"fa fa-remove"}),e._v(" "+e._s(e.$t("m.c_delete")))]):e._e()])]}}])})],1)],1),e._v(" "),r("div",{staticClass:"box-footer clearfix"},[r("el-pagination",{staticClass:"pull-right",attrs:{layout:"prev,pager,next,jumper",total:e.total,"page-size":e.pageSize,"current-page":e.page},on:{"current-change":e.pageChange}})],1)]),e._v(" "),r("ClientFormDlg",{ref:"clientFormDlg",on:{submit:e.update}})],1)])},i=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"qcontent-header",staticStyle:{"word-break":"keep-all","white-space":"nowrap",overflow:"hidden","text-overflow":"ellipsis"}},[e._v(" 设备接入 "),r("span",{staticStyle:{"font-size":"12px","font-weight":"100"}},[e._v(" 设备(流媒体服务) IoT方式扩展接入 编辑查看设备配置详情")])])}],o={render:n,staticRenderFns:i};t.a=o},sSHN:function(e,t,r){"use strict";e.exports=0}});